<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title> | 王者府</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">王者府</h1><a id="logo" href="/.">王者府</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-meta">Jul 4, 2018</div><div class="post-content"><ul>
<li><p>COAP</p>
<p> IETF的CoRE工作组提出了一种基于UDP的CoAP协议。CoAP是6LowPAN协议栈中的应用层协议，基于REST（表述性状态传递）架构风格，支持与REST进行交互。通常用户可以像使用HTTP协议一样用CoAP协议来访问物联网设备。</p>
<p>CoAP采用与HTTP协议相同的请求响应工作模式。CoAP协议共有4中不同的消息类型。</p>
<p> CON——需要被确认的请求，如果CON请求被发送，那么对方必须做出响应。 </p>
<p>NON——不需要被确认的请求，如果NON请求被发送，那么对方不必做出回应。</p>
<p> ACK——应答消息，接受到CON消息的响应。 </p>
<p>RST——复位消息，当接收者接受到的消息包含一个错误，接受者解析消息或者不再关心发送者发送的内容，那么复位消息将会被发送。</p>
<p>CoAP消息格式使用简单的二进制格式，最小为4个字节。</p>
<p>一个消息=固定长度的头部header + 可选个数的option + 负载payload。Payload的长度根据数据报长度来计算。</p>
</li>
<li><p>MQTT</p>
<p>MQTT协议是为大量计算能力有限且工作在低带宽、不可靠网络的远程传感器和控制设备通讯而设计的一种协议。MQTT协议是由IBM开发的一个即时通讯的协议，MQTT协议的优势是可以支持所有平台，它几乎可以把所有的联网物品和互联网连接起来。</p>
<p>MQTT协议是基于TCP</p>
</li>
</ul>
<ul>
<li><p>HTTP</p>
<p>HTTP协议对于嵌入式设备来说是属于重量级不是很合适</p>
<p>HTTP使用报文格式对于嵌入式设备来说需要传输数据太多，太重，不够灵活</p>
</li>
<li><p>XMPP</p>
<p>XMPP协议基于XML，对于嵌入式设备来说，XML解析是超级困难的；</p>
</li>
</ul>
<ul>
<li><p>SOAP</p>
<p>SOAP是交换数据的一种协议规范，是一种轻量的、简单的、基于<a href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener">可扩展标记语言</a>（<a href="https://baike.baidu.com/item/XML" target="_blank" rel="noopener">XML</a>）的协议，它被设计成在WEB上交换结构化的和固化的信息。</p>
</li>
<li><p>MQTT &amp;&amp; COAP</p>
<p>1、MQTT协议不支持带有类型或者其它帮助Clients理解的标签信息，也就是说所有MQTT Clients必须要知道消息格式。而CoAP协议则相反，因为CoAP内置发现支持和内容协商，这样便能允许设备相互窥测以找到数据交换的方式。</p>
<p>2、MQTT是长连接而CoAP是无连接。MQTT Clients与Broker之间保持TCP长连接，这种情形在NAT环境中也不会产生问题。如果在NAT环境下使用CoAP的话，那就需要采取一些NAT穿透性手段。</p>
<p>3、MQTT是多个客户端通过中央代理进行消息传递的多对多协议。它主要通过让客户端发布消息、代理决定消息路由和复制来解耦消费者和生产者。MQTT就是相当于消息传递的实时通讯总线。CoAP基本上就是一个在Server和Client之间传递状态信息的单对单协议。</p>
<p>从当前物联网应用发展趋势来分析，MQTT协议具有一定的优势。因为目前国内外主要的云计算服务商，比如阿里云、AWS、百度云、Azure以及腾讯云都一概支持MQTT协议。还有一个原因就是MQTT协议比CoAP成熟的要早，所以MQTT具有一定的先发优势。但随着物联网的智能化和多变化的发展，后续物联网应用平台肯定会兼容更多的物联网应用层协议。</p>
<p>MQTT的特点是可以保持<strong>长连接</strong>，具有一定的实时性，云端向设备端发送消息，设备端可以在最短的时间内接收到并作出响应，所以MQTT更适合需要实时控制的场合，更适合执行器。要保持长连接，那么就要时不时地发送心跳包，这就不会省电了。所以低功耗的场合并不适合MQTT。MQTT的长连接需要建立在TCP的基础上，TCP协议的复杂性决定了对设备的要求是比较高一些的，相比UDP。</p>
<p>CoAP的特点是<strong>低功耗</strong>，数据发完就可以休眠了。所以CoAP更适合数据采集的场合，更适合纯粹的传感器设备，特别是电池供电的传感器设备。基于UDP协议，对设备的要求比较简单。华为出的NB-IoT芯片就只支持UDP和CoAP，华为的决策告诉我们CoAP和NB-IoT是一对。</p>
<p>| 协议 | 核心特点 | 下层协议 | 应用场合        | 硬件要求 |<br>| —- | ——– | ——– | ————— | ——– |<br>| MQTT | 长连接   | TCP      | 实时控制/执行器 | 较高     |<br>| CoAP | 低功耗   | UDP      | 数据采集/传感器 | 较低     |</p>
</li>
</ul>
<ul>
<li><p><a href="https://blog.csdn.net/xukai871105/article/details/44980041" target="_blank" rel="noopener">https://blog.csdn.net/xukai871105/article/details/44980041</a></p>
</li>
<li><p><a href="https://blog.csdn.net/iotisan/article/category/7184968" target="_blank" rel="noopener">https://blog.csdn.net/iotisan/article/category/7184968</a></p>
</li>
<li><p><a href="https://blog.csdn.net/iotisan/article/details/80058454" target="_blank" rel="noopener">https://blog.csdn.net/iotisan/article/details/80058454</a></p>
</li>
<li><p><a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2011/09/restful.html</a></p>
</li>
<li><p><a href="https://blog.csdn.net/iotisan/article/details/80079382" target="_blank" rel="noopener">https://blog.csdn.net/iotisan/article/details/80079382</a></p>
</li>
<li><p><a href="https://segmentfault.com/u/shizhiyuan" target="_blank" rel="noopener">https://segmentfault.com/u/shizhiyuan</a></p>
</li>
<li><p><a href="https://blog.csdn.net/phodal/article/details/38636185" target="_blank" rel="noopener">https://blog.csdn.net/phodal/article/details/38636185</a></p>
</li>
<li></li>
</ul>
</div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>Jinfei Wang</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="/2018/07/04/IOT/">http://up-dream.com/2018/07/04/IOT/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</li></ul></div><br><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/08/02/PM-001/">产品经理的场子</a><a class="next" href="/2018/02/26/software/"></a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://up-dream.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/记录/" style="font-size: 15px;">记录</a> <a href="/tags/PM/" style="font-size: 15px;">PM</a> <a href="/tags/VPS/" style="font-size: 15px;">VPS</a> <a href="/tags/ShadowSocks/" style="font-size: 15px;">ShadowSocks</a> <a href="/tags/记录，生活/" style="font-size: 15px;">记录，生活</a> <a href="/tags/软件/" style="font-size: 15px;">软件</a> <a href="/tags/Rust/" style="font-size: 15px;">Rust</a> <a href="/tags/Debian，NFS/" style="font-size: 15px;">Debian，NFS</a> <a href="/tags/PyQtDeploy/" style="font-size: 15px;">PyQtDeploy</a> <a href="/tags/VNC/" style="font-size: 15px;">VNC</a> <a href="/tags/x2go/" style="font-size: 15px;">x2go</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/02/ShadowSocks/">VPS搭建自己的ShadowSocks</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/02/PM-001/">产品经理的场子</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/04/IOT/">IOT</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/26/software/">software</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/08/产品经理规划-王金飞/">产品经理规划-王金飞</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/28/x2go/">X2Go远程桌面软件的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/25/vnc/">VNC远程桌面软件的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/09/pyqtdeploywin32/">记录Pyqtdeploy deploy For Win32</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/10/rustForArm/">Rust 语言 For ARM开发板</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/03/19/win7/">记录Win7忘记密码如何破解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.fonrich.com" title="丰郅（上海）新能源" target="_blank">丰郅（上海）新能源</a><ul></ul><a href="http://monitoring.fonrich.com:8089" title="Foneye系统" target="_blank">Foneye系统</a><ul></ul><a href="http://www.woshipm.com" title="人人都是产品经理" target="_blank">人人都是产品经理</a><ul></ul><a href="http://www.chanpin100.com" title="产品100" target="_blank">产品100</a><ul></ul><a href="ttps://www.pmcaff.com" title="PMCAFF" target="_blank">PMCAFF</a><ul></ul><a href="http://36kr.com" title="36氪" target="_blank">36氪</a><ul></ul><a href="https://www.huxiu.com" title="虎嗅" target="_blank">虎嗅</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">王者府.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>